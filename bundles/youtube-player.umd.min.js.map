{"version":3,"sources":["src/youtube-player/youtube-player.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","ng","youtubePlayer","core","common","rxjs","operators","this","__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","e","ar","next","done","push","value","error","DEFAULT_PLAYER_WIDTH","DEFAULT_PLAYER_HEIGHT","YouTubePlayer","_ngZone","platformId","_youtubeContainer","Subject","_destroyed","_playerChanges","BehaviorSubject","undefined","_videoId","_height","_width","_startSeconds","_endSeconds","_suggestedQuality","ready","_getLazyEmitter","stateChange","apiChange","playbackQualityChange","playbackRateChange","_isBrowser","isPlatformBrowser","window","defineProperty","get","set","videoId","enumerable","configurable","height","width","startSeconds","endSeconds","suggestedQuality","ngOnInit","_this","iframeApiAvailableObs","of","YT","showBeforeIframeApiLoads","Error","iframeApiAvailableSubject_1","_existingApiReadyCallback","onYouTubeIframeAPIReady","run","pipe","take","startWith","playerObs","createPlayerObservable","youtubeContainer","videoIdObs","widthObs","heightObs","ngZone","playerOptions","withLatestFrom","combineLatest","map","_a","_b","_c","skipUntilRememberLatest","notifier","skipWhile","scan","syncPlayerState","distinctUntilChanged","tap","player","waitUntilReady","onAbort","flatMap","playerIsReady","Observable","emitter","aborted","resolved","onReady","event","target","removeEventListener","addEventListener","destroy","takeUntil","publish","subscribe","_player","_pendingPlayerState","_initializePlayer","bindSizeToPlayer","setSize","bindSuggestedQualityToPlayer","suggestedQualityObs","setPlaybackQuality","bindCueVideoCall","startSecondsObs","endSecondsObs","destroyed","cueOptionsObs","filteredCueOptions","filterOnOther","hasPlayerStarted","state","getPlayerState","changedVideoId","changedPlayer","cueOptions","merge","cueVideoById","connect","createEventsBoundInZone","ngAfterViewInit","nativeElement","ngOnDestroy","complete","playVideo","_getPendingState","playbackState","pauseVideo","stopVideo","seekTo","seconds","allowSeekAhead","seek","mute","muted","unMute","isMuted","setVolume","volume","getVolume","setPlaybackRate","playbackRate","getPlaybackRate","getAvailablePlaybackRates","getVideoLoadedFraction","getCurrentTime","getPlaybackQuality","getAvailableQualityLevels","getDuration","getVideoUrl","getVideoEmbedCode","name","switchMap","fromEventPattern","listener","source","observer","decorators","type","Component","args","selector","changeDetection","ChangeDetectionStrategy","OnPush","encapsulation","ViewEncapsulation","None","template","ctorParameters","NgZone","Optional","Inject","PLATFORM_ID","propDecorators","Input","Output","ViewChild","container","videoOptions","newPlayer","runOutsideAngular","Player","otherObs","filterFn","filter","COMPONENTS","YouTubePlayerModule","NgModule","declarations"],"mappings":"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","sourcesContent":["(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/common'), require('rxjs'), require('rxjs/operators')) :\n    typeof define === 'function' && define.amd ? define('@angular/youtube-player', ['exports', '@angular/core', '@angular/common', 'rxjs', 'rxjs/operators'], factory) :\n    (global = global || self, factory((global.ng = global.ng || {}, global.ng.youtubePlayer = {}), global.ng.core, global.ng.common, global.rxjs, global.rxjs.operators));\n}(this, (function (exports, core, common, rxjs, operators) { 'use strict';\n\n    /*! *****************************************************************************\r\n    Copyright (c) Microsoft Corporation. All rights reserved.\r\n    Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\n    this file except in compliance with the License. You may obtain a copy of the\r\n    License at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\n    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\n    MERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\n    See the Apache Version 2.0 License for specific language governing permissions\r\n    and limitations under the License.\r\n    ***************************************************************************** */\r\n    /* global Reflect, Promise */\r\n\r\n    var extendStatics = function(d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n\r\n    function __extends(d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    }\r\n\r\n    var __assign = function() {\r\n        __assign = Object.assign || function __assign(t) {\r\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n                s = arguments[i];\r\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n            }\r\n            return t;\r\n        };\r\n        return __assign.apply(this, arguments);\r\n    };\r\n\r\n    function __rest(s, e) {\r\n        var t = {};\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n            t[p] = s[p];\r\n        if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n            for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n                if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                    t[p[i]] = s[p[i]];\r\n            }\r\n        return t;\r\n    }\r\n\r\n    function __decorate(decorators, target, key, desc) {\r\n        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n        if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n        else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n        return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n    }\r\n\r\n    function __param(paramIndex, decorator) {\r\n        return function (target, key) { decorator(target, key, paramIndex); }\r\n    }\r\n\r\n    function __metadata(metadataKey, metadataValue) {\r\n        if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n    }\r\n\r\n    function __awaiter(thisArg, _arguments, P, generator) {\r\n        return new (P || (P = Promise))(function (resolve, reject) {\r\n            function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n            function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n            step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n        });\r\n    }\r\n\r\n    function __generator(thisArg, body) {\r\n        var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n        return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n        function verb(n) { return function (v) { return step([n, v]); }; }\r\n        function step(op) {\r\n            if (f) throw new TypeError(\"Generator is already executing.\");\r\n            while (_) try {\r\n                if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n                if (y = 0, t) op = [op[0] & 2, t.value];\r\n                switch (op[0]) {\r\n                    case 0: case 1: t = op; break;\r\n                    case 4: _.label++; return { value: op[1], done: false };\r\n                    case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                    case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                    default:\r\n                        if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                        if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                        if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                        if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                        if (t[2]) _.ops.pop();\r\n                        _.trys.pop(); continue;\r\n                }\r\n                op = body.call(thisArg, _);\r\n            } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n            if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n        }\r\n    }\r\n\r\n    function __exportStar(m, exports) {\r\n        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n    }\r\n\r\n    function __values(o) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n        if (m) return m.call(o);\r\n        return {\r\n            next: function () {\r\n                if (o && i >= o.length) o = void 0;\r\n                return { value: o && o[i++], done: !o };\r\n            }\r\n        };\r\n    }\r\n\r\n    function __read(o, n) {\r\n        var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n        if (!m) return o;\r\n        var i = m.call(o), r, ar = [], e;\r\n        try {\r\n            while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n        }\r\n        catch (error) { e = { error: error }; }\r\n        finally {\r\n            try {\r\n                if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n            }\r\n            finally { if (e) throw e.error; }\r\n        }\r\n        return ar;\r\n    }\r\n\r\n    function __spread() {\r\n        for (var ar = [], i = 0; i < arguments.length; i++)\r\n            ar = ar.concat(__read(arguments[i]));\r\n        return ar;\r\n    }\r\n\r\n    function __spreadArrays() {\r\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n                r[k] = a[j];\r\n        return r;\r\n    };\r\n\r\n    function __await(v) {\r\n        return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n    }\r\n\r\n    function __asyncGenerator(thisArg, _arguments, generator) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n        return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n        function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n        function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n        function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n        function fulfill(value) { resume(\"next\", value); }\r\n        function reject(value) { resume(\"throw\", value); }\r\n        function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n    }\r\n\r\n    function __asyncDelegator(o) {\r\n        var i, p;\r\n        return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n        function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n    }\r\n\r\n    function __asyncValues(o) {\r\n        if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n        var m = o[Symbol.asyncIterator], i;\r\n        return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n        function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n        function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n    }\r\n\r\n    function __makeTemplateObject(cooked, raw) {\r\n        if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n        return cooked;\r\n    };\r\n\r\n    function __importStar(mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n        result.default = mod;\r\n        return result;\r\n    }\r\n\r\n    function __importDefault(mod) {\r\n        return (mod && mod.__esModule) ? mod : { default: mod };\r\n    }\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var DEFAULT_PLAYER_WIDTH = 640;\n    var DEFAULT_PLAYER_HEIGHT = 390;\n    /**\n     * Angular component that renders a YouTube player via the YouTube player\n     * iframe API.\n     * @see https://developers.google.com/youtube/iframe_api_reference\n     */\n    var YouTubePlayer = /** @class */ (function () {\n        function YouTubePlayer(_ngZone, \n        /**\n         * @deprecated `platformId` parameter to become required.\n         * @breaking-change 10.0.0\n         */\n        platformId) {\n            this._ngZone = _ngZone;\n            this._youtubeContainer = new rxjs.Subject();\n            this._destroyed = new rxjs.Subject();\n            this._playerChanges = new rxjs.BehaviorSubject(undefined);\n            this._videoId = new rxjs.BehaviorSubject(undefined);\n            this._height = new rxjs.BehaviorSubject(DEFAULT_PLAYER_HEIGHT);\n            this._width = new rxjs.BehaviorSubject(DEFAULT_PLAYER_WIDTH);\n            this._startSeconds = new rxjs.BehaviorSubject(undefined);\n            this._endSeconds = new rxjs.BehaviorSubject(undefined);\n            this._suggestedQuality = new rxjs.BehaviorSubject(undefined);\n            /** Outputs are direct proxies from the player itself. */\n            this.ready = this._getLazyEmitter('onReady');\n            this.stateChange = this._getLazyEmitter('onStateChange');\n            this.error = this._getLazyEmitter('onError');\n            this.apiChange = this._getLazyEmitter('onApiChange');\n            this.playbackQualityChange = this._getLazyEmitter('onPlaybackQualityChange');\n            this.playbackRateChange = this._getLazyEmitter('onPlaybackRateChange');\n            // @breaking-change 10.0.0 Remove null check for `platformId`.\n            this._isBrowser =\n                platformId ? common.isPlatformBrowser(platformId) : typeof window === 'object' && !!window;\n        }\n        Object.defineProperty(YouTubePlayer.prototype, \"videoId\", {\n            /** YouTube Video ID to view */\n            get: function () { return this._videoId.value; },\n            set: function (videoId) {\n                this._videoId.next(videoId);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"height\", {\n            /** Height of video player */\n            get: function () { return this._height.value; },\n            set: function (height) {\n                this._height.next(height || DEFAULT_PLAYER_HEIGHT);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"width\", {\n            /** Width of video player */\n            get: function () { return this._width.value; },\n            set: function (width) {\n                this._width.next(width || DEFAULT_PLAYER_WIDTH);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"startSeconds\", {\n            /** The moment when the player is supposed to start playing */\n            set: function (startSeconds) {\n                this._startSeconds.next(startSeconds);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"endSeconds\", {\n            /** The moment when the player is supposed to stop playing */\n            set: function (endSeconds) {\n                this._endSeconds.next(endSeconds);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(YouTubePlayer.prototype, \"suggestedQuality\", {\n            /** The suggested quality of the player */\n            set: function (suggestedQuality) {\n                this._suggestedQuality.next(suggestedQuality);\n            },\n            enumerable: true,\n            configurable: true\n        });\n        YouTubePlayer.prototype.ngOnInit = function () {\n            var _this = this;\n            // Don't do anything if we're not in a browser environment.\n            if (!this._isBrowser) {\n                return;\n            }\n            var iframeApiAvailableObs = rxjs.of(true);\n            if (!window.YT) {\n                if (this.showBeforeIframeApiLoads) {\n                    throw new Error('Namespace YT not found, cannot construct embedded youtube player. ' +\n                        'Please install the YouTube Player API Reference for iframe Embeds: ' +\n                        'https://developers.google.com/youtube/iframe_api_reference');\n                }\n                var iframeApiAvailableSubject_1 = new rxjs.Subject();\n                this._existingApiReadyCallback = window.onYouTubeIframeAPIReady;\n                window.onYouTubeIframeAPIReady = function () {\n                    if (_this._existingApiReadyCallback) {\n                        _this._existingApiReadyCallback();\n                    }\n                    _this._ngZone.run(function () { return iframeApiAvailableSubject_1.next(true); });\n                };\n                iframeApiAvailableObs = iframeApiAvailableSubject_1.pipe(operators.take(1), operators.startWith(false));\n            }\n            // An observable of the currently loaded player.\n            var playerObs = createPlayerObservable(this._youtubeContainer, this._videoId, iframeApiAvailableObs, this._width, this._height, this._ngZone).pipe(operators.tap(function (player) {\n                // Emit this before the `waitUntilReady` call so that we can bind to\n                // events that happen as the player is being initialized (e.g. `onReady`).\n                _this._playerChanges.next(player);\n            }), waitUntilReady(function (player) {\n                // Destroy the player if loading was aborted so that we don't end up leaking memory.\n                if (!playerIsReady(player)) {\n                    player.destroy();\n                }\n            }), operators.takeUntil(this._destroyed), operators.publish());\n            // Set up side effects to bind inputs to the player.\n            playerObs.subscribe(function (player) {\n                _this._player = player;\n                if (player && _this._pendingPlayerState) {\n                    _this._initializePlayer(player, _this._pendingPlayerState);\n                }\n                _this._pendingPlayerState = undefined;\n            });\n            bindSizeToPlayer(playerObs, this._width, this._height);\n            bindSuggestedQualityToPlayer(playerObs, this._suggestedQuality);\n            bindCueVideoCall(playerObs, this._videoId, this._startSeconds, this._endSeconds, this._suggestedQuality, this._destroyed);\n            // After all of the subscriptions are set up, connect the observable.\n            playerObs.connect();\n        };\n        /**\n         * @deprecated No longer being used. To be removed.\n         * @breaking-change 11.0.0\n         */\n        YouTubePlayer.prototype.createEventsBoundInZone = function () {\n            return {};\n        };\n        YouTubePlayer.prototype.ngAfterViewInit = function () {\n            this._youtubeContainer.next(this.youtubeContainer.nativeElement);\n        };\n        YouTubePlayer.prototype.ngOnDestroy = function () {\n            if (this._player) {\n                this._player.destroy();\n                window.onYouTubeIframeAPIReady = this._existingApiReadyCallback;\n            }\n            this._playerChanges.complete();\n            this._videoId.complete();\n            this._height.complete();\n            this._width.complete();\n            this._startSeconds.complete();\n            this._endSeconds.complete();\n            this._suggestedQuality.complete();\n            this._youtubeContainer.complete();\n            this._destroyed.next();\n            this._destroyed.complete();\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#playVideo */\n        YouTubePlayer.prototype.playVideo = function () {\n            if (this._player) {\n                this._player.playVideo();\n            }\n            else {\n                this._getPendingState().playbackState = 1 /* PLAYING */;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#pauseVideo */\n        YouTubePlayer.prototype.pauseVideo = function () {\n            if (this._player) {\n                this._player.pauseVideo();\n            }\n            else {\n                this._getPendingState().playbackState = 2 /* PAUSED */;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#stopVideo */\n        YouTubePlayer.prototype.stopVideo = function () {\n            if (this._player) {\n                this._player.stopVideo();\n            }\n            else {\n                // It seems like YouTube sets the player to CUED when it's stopped.\n                this._getPendingState().playbackState = 5 /* CUED */;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#seekTo */\n        YouTubePlayer.prototype.seekTo = function (seconds, allowSeekAhead) {\n            if (this._player) {\n                this._player.seekTo(seconds, allowSeekAhead);\n            }\n            else {\n                this._getPendingState().seek = { seconds: seconds, allowSeekAhead: allowSeekAhead };\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#mute */\n        YouTubePlayer.prototype.mute = function () {\n            if (this._player) {\n                this._player.mute();\n            }\n            else {\n                this._getPendingState().muted = true;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#unMute */\n        YouTubePlayer.prototype.unMute = function () {\n            if (this._player) {\n                this._player.unMute();\n            }\n            else {\n                this._getPendingState().muted = false;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#isMuted */\n        YouTubePlayer.prototype.isMuted = function () {\n            if (this._player) {\n                return this._player.isMuted();\n            }\n            if (this._pendingPlayerState) {\n                return !!this._pendingPlayerState.muted;\n            }\n            return false;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#setVolume */\n        YouTubePlayer.prototype.setVolume = function (volume) {\n            if (this._player) {\n                this._player.setVolume(volume);\n            }\n            else {\n                this._getPendingState().volume = volume;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getVolume */\n        YouTubePlayer.prototype.getVolume = function () {\n            if (this._player) {\n                return this._player.getVolume();\n            }\n            if (this._pendingPlayerState && this._pendingPlayerState.volume != null) {\n                return this._pendingPlayerState.volume;\n            }\n            return 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#setPlaybackRate */\n        YouTubePlayer.prototype.setPlaybackRate = function (playbackRate) {\n            if (this._player) {\n                return this._player.setPlaybackRate(playbackRate);\n            }\n            else {\n                this._getPendingState().playbackRate = playbackRate;\n            }\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getPlaybackRate */\n        YouTubePlayer.prototype.getPlaybackRate = function () {\n            if (this._player) {\n                return this._player.getPlaybackRate();\n            }\n            if (this._pendingPlayerState && this._pendingPlayerState.playbackRate != null) {\n                return this._pendingPlayerState.playbackRate;\n            }\n            return 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getAvailablePlaybackRates */\n        YouTubePlayer.prototype.getAvailablePlaybackRates = function () {\n            return this._player ? this._player.getAvailablePlaybackRates() : [];\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getVideoLoadedFraction */\n        YouTubePlayer.prototype.getVideoLoadedFraction = function () {\n            return this._player ? this._player.getVideoLoadedFraction() : 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getPlayerState */\n        YouTubePlayer.prototype.getPlayerState = function () {\n            if (!this._isBrowser || !window.YT) {\n                return undefined;\n            }\n            if (this._player) {\n                return this._player.getPlayerState();\n            }\n            if (this._pendingPlayerState && this._pendingPlayerState.playbackState != null) {\n                return this._pendingPlayerState.playbackState;\n            }\n            return -1 /* UNSTARTED */;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getCurrentTime */\n        YouTubePlayer.prototype.getCurrentTime = function () {\n            if (this._player) {\n                return this._player.getCurrentTime();\n            }\n            if (this._pendingPlayerState && this._pendingPlayerState.seek) {\n                return this._pendingPlayerState.seek.seconds;\n            }\n            return 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getPlaybackQuality */\n        YouTubePlayer.prototype.getPlaybackQuality = function () {\n            return this._player ? this._player.getPlaybackQuality() : 'default';\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getAvailableQualityLevels */\n        YouTubePlayer.prototype.getAvailableQualityLevels = function () {\n            return this._player ? this._player.getAvailableQualityLevels() : [];\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getDuration */\n        YouTubePlayer.prototype.getDuration = function () {\n            return this._player ? this._player.getDuration() : 0;\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getVideoUrl */\n        YouTubePlayer.prototype.getVideoUrl = function () {\n            return this._player ? this._player.getVideoUrl() : '';\n        };\n        /** See https://developers.google.com/youtube/iframe_api_reference#getVideoEmbedCode */\n        YouTubePlayer.prototype.getVideoEmbedCode = function () {\n            return this._player ? this._player.getVideoEmbedCode() : '';\n        };\n        /** Gets an object that should be used to store the temporary API state. */\n        YouTubePlayer.prototype._getPendingState = function () {\n            if (!this._pendingPlayerState) {\n                this._pendingPlayerState = {};\n            }\n            return this._pendingPlayerState;\n        };\n        /** Initializes a player from a temporary state. */\n        YouTubePlayer.prototype._initializePlayer = function (player, state) {\n            var playbackState = state.playbackState, playbackRate = state.playbackRate, volume = state.volume, muted = state.muted, seek = state.seek;\n            switch (playbackState) {\n                case 1 /* PLAYING */:\n                    player.playVideo();\n                    break;\n                case 2 /* PAUSED */:\n                    player.pauseVideo();\n                    break;\n                case 5 /* CUED */:\n                    player.stopVideo();\n                    break;\n            }\n            if (playbackRate != null) {\n                player.setPlaybackRate(playbackRate);\n            }\n            if (volume != null) {\n                player.setVolume(volume);\n            }\n            if (muted != null) {\n                muted ? player.mute() : player.unMute();\n            }\n            if (seek != null) {\n                player.seekTo(seek.seconds, seek.allowSeekAhead);\n            }\n        };\n        /** Gets an observable that adds an event listener to the player when a user subscribes to it. */\n        YouTubePlayer.prototype._getLazyEmitter = function (name) {\n            var _this = this;\n            // Start with the stream of players. This way the events will be transferred\n            // over to the new player if it gets swapped out under-the-hood.\n            return this._playerChanges.pipe(\n            // Switch to the bound event. `switchMap` ensures that the old event is removed when the\n            // player is changed. If there's no player, return an observable that never emits.\n            operators.switchMap(function (player) {\n                return player ? rxjs.fromEventPattern(function (listener) {\n                    player.addEventListener(name, listener);\n                }, function (listener) {\n                    // The API seems to throw when we try to unbind from a destroyed player and it doesn't\n                    // expose whether the player has been destroyed so we have to wrap it in a try/catch to\n                    // prevent the entire stream from erroring out.\n                    try {\n                        if (player.removeEventListener) {\n                            player.removeEventListener(name, listener);\n                        }\n                    }\n                    catch (_a) { }\n                }) : rxjs.of();\n            }), \n            // By default we run all the API interactions outside the zone\n            // so we have to bring the events back in manually when they emit.\n            function (source) { return new rxjs.Observable(function (observer) { return source.subscribe({\n                next: function (value) { return _this._ngZone.run(function () { return observer.next(value); }); },\n                error: function (error) { return observer.error(error); },\n                complete: function () { return observer.complete(); }\n            }); }); }, \n            // Ensures that everything is cleared out on destroy.\n            operators.takeUntil(this._destroyed));\n        };\n        YouTubePlayer.decorators = [\n            { type: core.Component, args: [{\n                        selector: 'youtube-player',\n                        changeDetection: core.ChangeDetectionStrategy.OnPush,\n                        encapsulation: core.ViewEncapsulation.None,\n                        // This div is *replaced* by the YouTube player embed.\n                        template: '<div #youtubeContainer></div>'\n                    }] }\n        ];\n        /** @nocollapse */\n        YouTubePlayer.ctorParameters = function () { return [\n            { type: core.NgZone },\n            { type: Object, decorators: [{ type: core.Optional }, { type: core.Inject, args: [core.PLATFORM_ID,] }] }\n        ]; };\n        YouTubePlayer.propDecorators = {\n            videoId: [{ type: core.Input }],\n            height: [{ type: core.Input }],\n            width: [{ type: core.Input }],\n            startSeconds: [{ type: core.Input }],\n            endSeconds: [{ type: core.Input }],\n            suggestedQuality: [{ type: core.Input }],\n            showBeforeIframeApiLoads: [{ type: core.Input }],\n            ready: [{ type: core.Output }],\n            stateChange: [{ type: core.Output }],\n            error: [{ type: core.Output }],\n            apiChange: [{ type: core.Output }],\n            playbackQualityChange: [{ type: core.Output }],\n            playbackRateChange: [{ type: core.Output }],\n            youtubeContainer: [{ type: core.ViewChild, args: ['youtubeContainer',] }]\n        };\n        return YouTubePlayer;\n    }());\n    /** Listens to changes to the given width and height and sets it on the player. */\n    function bindSizeToPlayer(playerObs, widthObs, heightObs) {\n        return rxjs.combineLatest([playerObs, widthObs, heightObs])\n            .subscribe(function (_a) {\n            var _b = __read(_a, 3), player = _b[0], width = _b[1], height = _b[2];\n            return player && player.setSize(width, height);\n        });\n    }\n    /** Listens to changes from the suggested quality and sets it on the given player. */\n    function bindSuggestedQualityToPlayer(playerObs, suggestedQualityObs) {\n        return rxjs.combineLatest([\n            playerObs,\n            suggestedQualityObs\n        ]).subscribe(function (_a) {\n            var _b = __read(_a, 2), player = _b[0], suggestedQuality = _b[1];\n            return player && suggestedQuality && player.setPlaybackQuality(suggestedQuality);\n        });\n    }\n    /**\n     * Returns an observable that emits the loaded player once it's ready. Certain properties/methods\n     * won't be available until the iframe finishes loading.\n     * @param onAbort Callback function that will be invoked if the player loading was aborted before\n     * it was able to complete. Can be used to clean up any loose references.\n     */\n    function waitUntilReady(onAbort) {\n        return operators.flatMap(function (player) {\n            if (!player) {\n                return rxjs.of(undefined);\n            }\n            if (playerIsReady(player)) {\n                return rxjs.of(player);\n            }\n            // Since removeEventListener is not on Player when it's initialized, we can't use fromEvent.\n            // The player is not initialized fully until the ready is called.\n            return new rxjs.Observable(function (emitter) {\n                var aborted = false;\n                var resolved = false;\n                var onReady = function (event) {\n                    resolved = true;\n                    if (!aborted) {\n                        event.target.removeEventListener('onReady', onReady);\n                        emitter.next(event.target);\n                    }\n                };\n                player.addEventListener('onReady', onReady);\n                return function () {\n                    aborted = true;\n                    if (!resolved) {\n                        onAbort(player);\n                    }\n                };\n            }).pipe(operators.take(1), operators.startWith(undefined));\n        });\n    }\n    /** Create an observable for the player based on the given options. */\n    function createPlayerObservable(youtubeContainer, videoIdObs, iframeApiAvailableObs, widthObs, heightObs, ngZone) {\n        var playerOptions = videoIdObs\n            .pipe(operators.withLatestFrom(rxjs.combineLatest([widthObs, heightObs])), operators.map(function (_a) {\n            var _b = __read(_a, 2), videoId = _b[0], _c = __read(_b[1], 2), width = _c[0], height = _c[1];\n            return videoId ? ({ videoId: videoId, width: width, height: height }) : undefined;\n        }));\n        return rxjs.combineLatest([youtubeContainer, playerOptions, rxjs.of(ngZone)])\n            .pipe(skipUntilRememberLatest(iframeApiAvailableObs), operators.scan(syncPlayerState, undefined), operators.distinctUntilChanged());\n    }\n    /** Skips the given observable until the other observable emits true, then emit the latest. */\n    function skipUntilRememberLatest(notifier) {\n        return rxjs.pipe(operators.combineLatest(notifier), operators.skipWhile(function (_a) {\n            var _b = __read(_a, 2), _ = _b[0], doneSkipping = _b[1];\n            return !doneSkipping;\n        }), operators.map(function (_a) {\n            var _b = __read(_a, 1), value = _b[0];\n            return value;\n        }));\n    }\n    /** Destroy the player if there are no options, or create the player if there are options. */\n    function syncPlayerState(player, _a) {\n        var _b = __read(_a, 3), container = _b[0], videoOptions = _b[1], ngZone = _b[2];\n        if (!videoOptions) {\n            if (player) {\n                player.destroy();\n            }\n            return;\n        }\n        if (player) {\n            return player;\n        }\n        // Important! We need to create the Player object outside of the `NgZone`, because it kicks\n        // off a 250ms setInterval which will continually trigger change detection if we don't.\n        var newPlayer = ngZone.runOutsideAngular(function () { return new YT.Player(container, videoOptions); });\n        // Bind videoId for future use.\n        newPlayer.videoId = videoOptions.videoId;\n        return newPlayer;\n    }\n    /**\n     * Call cueVideoById if the videoId changes, or when start or end seconds change. cueVideoById will\n     * change the loaded video id to the given videoId, and set the start and end times to the given\n     * start/end seconds.\n     */\n    function bindCueVideoCall(playerObs, videoIdObs, startSecondsObs, endSecondsObs, suggestedQualityObs, destroyed) {\n        var cueOptionsObs = rxjs.combineLatest([startSecondsObs, endSecondsObs])\n            .pipe(operators.map(function (_a) {\n            var _b = __read(_a, 2), startSeconds = _b[0], endSeconds = _b[1];\n            return ({ startSeconds: startSeconds, endSeconds: endSeconds });\n        }));\n        // Only respond to changes in cue options if the player is not running.\n        var filteredCueOptions = cueOptionsObs\n            .pipe(filterOnOther(playerObs, function (player) { return !!player && !hasPlayerStarted(player); }));\n        // If the video id changed, there's no reason to run 'cue' unless the player\n        // was initialized with a different video id.\n        var changedVideoId = videoIdObs\n            .pipe(filterOnOther(playerObs, function (player, videoId) { return !!player && player.videoId !== videoId; }));\n        // If the player changed, there's no reason to run 'cue' unless there are cue options.\n        var changedPlayer = playerObs.pipe(filterOnOther(rxjs.combineLatest([videoIdObs, cueOptionsObs]), function (_a, player) {\n            var _b = __read(_a, 2), videoId = _b[0], cueOptions = _b[1];\n            return !!player &&\n                (videoId != player.videoId || !!cueOptions.startSeconds || !!cueOptions.endSeconds);\n        }));\n        rxjs.merge(changedPlayer, changedVideoId, filteredCueOptions)\n            .pipe(operators.withLatestFrom(rxjs.combineLatest([playerObs, videoIdObs, cueOptionsObs, suggestedQualityObs])), operators.map(function (_a) {\n            var _b = __read(_a, 2), _ = _b[0], values = _b[1];\n            return values;\n        }), operators.takeUntil(destroyed))\n            .subscribe(function (_a) {\n            var _b = __read(_a, 4), player = _b[0], videoId = _b[1], cueOptions = _b[2], suggestedQuality = _b[3];\n            if (!videoId || !player) {\n                return;\n            }\n            player.videoId = videoId;\n            player.cueVideoById(__assign({ videoId: videoId,\n                suggestedQuality: suggestedQuality }, cueOptions));\n        });\n    }\n    function hasPlayerStarted(player) {\n        var state = player.getPlayerState();\n        return state !== -1 /* UNSTARTED */ && state !== 5 /* CUED */;\n    }\n    function playerIsReady(player) {\n        return 'getPlayerStatus' in player;\n    }\n    /** Combines the two observables temporarily for the filter function. */\n    function filterOnOther(otherObs, filterFn) {\n        return rxjs.pipe(operators.withLatestFrom(otherObs), operators.filter(function (_a) {\n            var _b = __read(_a, 2), value = _b[0], other = _b[1];\n            return filterFn(other, value);\n        }), operators.map(function (_a) {\n            var _b = __read(_a, 1), value = _b[0];\n            return value;\n        }));\n    }\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n    var COMPONENTS = [YouTubePlayer];\n    var YouTubePlayerModule = /** @class */ (function () {\n        function YouTubePlayerModule() {\n        }\n        YouTubePlayerModule.decorators = [\n            { type: core.NgModule, args: [{\n                        declarations: COMPONENTS,\n                        exports: COMPONENTS,\n                    },] }\n        ];\n        return YouTubePlayerModule;\n    }());\n\n    /**\n     * @license\n     * Copyright Google LLC All Rights Reserved.\n     *\n     * Use of this source code is governed by an MIT-style license that can be\n     * found in the LICENSE file at https://angular.io/license\n     */\n\n    /**\n     * Generated bundle index. Do not edit.\n     */\n\n    exports.YouTubePlayer = YouTubePlayer;\n    exports.YouTubePlayerModule = YouTubePlayerModule;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n\n})));\n//# sourceMappingURL=youtube-player.umd.js.map\n"]}